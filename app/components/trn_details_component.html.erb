<%
  rows = []

  email_row = {
    key: { text: 'Email address' },
    value: { text: email },
    actions: @trn_request.from_get_an_identity? ? [] : [{ href: email_path, visually_hidden_text: 'email address' }]
  }

  name_row = {
    key: { text: 'Name' },
    value: { text: name },
    actions: [{ href: name_path, visually_hidden_text: 'name' }]
  }

  previous_name_row = {
    key: { text: 'Previous name' },
    value: { text: previous_name },
    actions: [{ href: name_path, visually_hidden_text: 'previous name' }]
  }

  date_of_birth_row = {
    key: { text: 'Date of birth' },
    value: { text: date_of_birth },
    actions: [{ href: date_of_birth_path, visually_hidden_text: 'date of birth' }]
  }

  ni_row = {
    key: { text: ni_key },
    value: { text: ni_value },
    actions: [{ href: have_ni_number_path, visually_hidden_text: 'national insurance number' }]
  }

  awarded_qts_row = {
    key: { text: 'Have you been awarded QTS?' },
    value: { text: awarded_qts_value },
    actions: [{ href: awarded_qts_path, visually_hidden_text: 'awarded QTS' }]
  }

  itt_provider_row = {
    key: { text: itt_provider_key },
    value: { text: itt_provider_value },
    actions: [{ href: itt_provider_path, visually_hidden_text: 'teacher training provider' }]
  }

  rows.push(email_row)
  rows.push(name_row)
  rows.push(previous_name_row) if @trn_request.previous_name?
  rows.push(date_of_birth_row)
  rows.push(ni_row)
  rows.push(awarded_qts_row) unless @trn_request.awarded_qts.nil?
  rows.push(itt_provider_row) unless @trn_request.itt_provider_enrolled.nil?

  rows.map! {|r| r.except(:actions)} unless @actions
%>
<%= govuk_summary_list(rows: rows) %>
